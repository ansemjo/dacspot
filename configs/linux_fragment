# build squashfs support into the kernel (instead of a module)
CONFIG_SQUASHFS=y
CONFIG_SQUASHFS_ZSTD=y

# enable the /proc/config.gz
CONFIG_IKCONFIG=y
CONFIG_IKCONFIG_PROC=y

# build wifi driver into kernel
CONFIG_RFKILL=y
CONFIG_CFG80211=y
CONFIG_BRCMFMAC=y

# remove unnecessary drivers
CONFIG_HAMRADIO=n
CONFIG_CAN=n
CONFIG_ATM=n
CONFIG_L2TP=n
CONFIG_BRIDGE=n
CONFIG_VLAN_8021Q=n
CONFIG_ATALK=n
CONFIG_IEEE802154=n
CONFIG_BATMAN_ADV=n
CONFIG_OPENVSWITCH=n
CONFIG_CEPH_LIB=n
CONFIG_NFC=n
CONFIG_BLK_DEV_DRBD=n
CONFIG_BLK_DEV_NBD=n
CONFIG_CDROM_PKTCDVD=n
CONFIG_ATA_OVER_ETH=n
CONFIG_SCSI=n
CONFIG_MD=n
CONFIG_BONDING=n
CONFIG_WIREGUARD=n
CONFIG_MACVLAN=n
CONFIG_IPVLAN=n
CONFIG_VXLAN=n
CONFIG_TUN=n
CONFIG_VETH=n
CONFIG_NET_VRF=n
CONFIG_ETHERNET=n
CONFIG_PPP=n
CONFIG_SLIP=n
USB_NET_DRIVERS=n
CONFIG_USB_NET_RNDIS_WLAN=n
CONFIG_INPUT_JOYDEV=n
CONFIG_INPUT_JOYSTICK=n
CONFIG_INPUT_TOUCHSCREEN=n
CONFIG_MEDIA_SUPPORT=n
CONFIG_DRM_UDL=n

# and filesystems
CONFIG_CEPH_FS=n
CONFIG_REISERFS_FS=n
CONFIG_JFS_FS=n
CONFIG_XFS_FS=n
CONFIG_GFS2_FS=n
CONFIG_OCFS2_FS=n
CONFIG_BTRFS_FS=n
CONFIG_NILFS2_FS=n
# could be interesting but choice is currently only ext4 vs. squashfs
CONFIG_F2FS_FS=n
CONFIG_ISO9660_FS=n
CONFIG_UDF_FS=n
CONFIG_NTFS_FS=n
CONFIG_NTFS3_FS=n
CONFIG_ECRYPT_FS=n
CONFIG_HFS_FS=n
CONFIG_HFSPLUS_FS=n
CONFIG_JFFS2_FS=n
CONFIG_UBIFS_FS=n
CONFIG_NETWORK_FILESYSTEMS=n
